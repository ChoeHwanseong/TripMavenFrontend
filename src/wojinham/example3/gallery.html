<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://kit.fontawesome.com/0b4621b427.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0/js/bootstrap.min.js"></script>
  <title>여행 게시판</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="gallery.css">
</head>
<body>
    <header>
        <div class="logo" style="font-family:'Times New Roman', Times, serif">
            <h1 style="color: cornflowerblue;"><a href="gallery.html">TRIP MAVEN</a> <span class="small-text">상품</span></h1>
        </div>
        <div class="search-bar mt-3">
            <input type="text" placeholder="통합검색">
            <button>검색</button>
        </div>
    </header>
    <nav>
        <ul>
            <li>추천 상품</li>
            <li>상품 목록</li>
            <li><a href="./question/quest.html">자주 묻는 질문</a></li>
            <li><a href="../bulletinBoard/index.html">질문 게시판</a></li>
        </ul>
    </nav>
    <main>
        <div class="sidebar">
            <div class="ad">
                <img src="ad.jpg" alt="광고">
                <img src="ad.jpg" alt="광고">
            </div>
        </div>
        <div class="content">
            <div class="gallery-title">
                <h2>최근 떠오르는 상품</h2>
            </div>
            <div class="posts mt-2">
                <div class="product-list">
                    <div class="product-item">
                        <img src="kobe.png" alt="상품 이미지">
                        <div class="product-info">
                            <h5>[특가] 고베 4박5일</h5>
                            <p>가격: 559,000원~</p>
                            <p>출발일: 2024-07-22</p>
                        </div>
                    </div>
                    <div class="product-item">
                        <img src="bali.jpeg" alt="상품 이미지">
                        <div class="product-info">
                            <h5>[특가] 발리 5박6일</h5>
                            <p>가격: 889,000원~</p>
                            <p>출발일: 2024-08-10</p>
                        </div>
                    </div>
                    <div class="product-item">
                        <img src="bali.jpeg" alt="상품 이미지">
                        <div class="product-info">
                            <h5>[초특가] 발리 6박7일</h5>
                            <p>가격: 1,209,000원~</p>
                            <p>출발일: 2024-08-18</p>
                        </div>
                    </div>
                    <!-- 추가 상품 항목들 -->
                </div>
            </div>
            <div class="pagination">
                <a href="#">&laquo;</a>
                <a href="#">1</a>
                <a href="#">2</a>
                <a href="#">3</a>
                <a href="#">4</a>
                <a href="#">5</a>
                <a href="#">&raquo;</a>
            </div>
        </div>
    </main>
    <footer>
        <p>&copy; 2024 TripMaven. All rights reserved.&nbsp;&nbsp;&nbsp;
            <span class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-google"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
            </span>
        </p>
    </footer>
    <!-- 1대1 채팅 버튼 추가 -->
    <a href="#" onclick="toggleChat(event)"><img class="chat-button" src="../oneToOneTalk/favicon.png" alt="Chat"/></a>

    <div id="chatPopup" class="chat-popup">
        <!-- 동적추가 -->
    </div>

    <script>
     // 버튼을 눌렀을 때 나오는 채팅창
    function toggleChat(event) {
        event.preventDefault();
        const chatPopup = document.getElementById('chatPopup');

        if (chatPopup.classList.contains('show')) {
            chatPopup.classList.remove('show');
            chatPopup.classList.add('hide');
            setTimeout(() => {
                chatPopup.style.display = 'none';
            }, 500); // 0.5초 후에 display: none 적용
        } else {
            chatPopup.style.display = 'block';
            chatPopup.classList.remove('hide');
            chatPopup.classList.add('show');

            const chatContent = `
                <div class="chat-container">
                    <header class="chat-header">
                        1:1 Chatting System
                    </header>
                    <div class="chat-body" id="chatBody">
                        <div class="message received">
                            <p>도와드릴게 있을까요?</p>
                        </div>
                    </div>
                    <footer class="chat-footer">
                        <input type="text" placeholder="메세지를 입력하세요" id="chatInput" />
                        <button type="button" onclick="sendMessage()">전송</button>
                    </footer>
                </div>
            `;

            chatPopup.innerHTML = chatContent;

            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('keydown', function(event) {
                if (event.key === 'Enter') {
                    sendMessage();
                }
            });
        }
    }

    function sendMessage() {
        const chatBody = document.getElementById('chatBody');
        const chatInput = document.getElementById('chatInput');
        const message = chatInput.value;

        if (message.trim() !== '') {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', 'sent');
            messageElement.innerHTML = `<p>${message}</p>`;
            chatBody.appendChild(messageElement);
            chatInput.value = '';
            chatBody.scrollTop = chatBody.scrollHeight;
        }
    }
    </script>
</body>
</html>
